version: v1alpha1
debug: false
persist: true
machine:
    type: controlplane
    token: v044px.6jf8wxe6uu3c9a0x
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQekNCOHFBREFnRUNBaEVBdFczMGFwd0NONlRkME9BRmxEVWNQekFGQmdNclpYQXdFREVPTUF3R0ExVUUKQ2hNRmRHRnNiM013SGhjTk1qVXhNVEV6TVRrek1USXhXaGNOTXpVeE1URXhNVGt6TVRJeFdqQVFNUTR3REFZRApWUVFLRXdWMFlXeHZjekFxTUFVR0F5dGxjQU1oQUZpRVlnbkMwT1ZtWVA1VGliNE1mU1o2M0pnb2hFY0JMMmdrCnZBbWhNaHVhbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3RUcKQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkRjT3MyK3hXbFhBcXMybQoyQ0NOVGFSQkVtbE1NQVVHQXl0bGNBTkJBRFA2TmJyMUdsanJUWHFVdUFTSEI3bEhpQ2VDVEFWTWN4OXNlMXlrCktsM0lXbGZWcDJtcU1Nc0dkYkhheGcrZjkwbWdlQU5vcWZjSlQ3MytKTE9lZFF3PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJQWRRUnJybkRoVlpFY2dMbnR6dmtuMW9SWHhiVWhSMFFqWnlXbmhIVE5ULwotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
    certSANs: []
    kubelet:
        image: ghcr.io/siderolabs/kubelet:v1.34.1
        defaultRuntimeSeccompProfileEnabled: true
        disableManifestsDirectory: true
    network:
        hostname: cp01
        interfaces:
            - deviceSelector:
                physical: true
              addresses:
                - 192.168.99.101/24
              routes:
                - network: 0.0.0.0/0
                  gateway: 192.168.99.1
              vip:
                ip: 192.168.99.100
    install:
        disk: /dev/mmcblk0
        image: factory.talos.dev/installer/${SCHEMATIC_ID}:v1.11.5
        wipe: false
    features:
        rbac: true
        stableHostname: true
        apidCheckExtKeyUsage: true
        diskQuotaSupport: true
        kubePrism:
            enabled: true
            port: 7445
        hostDNS:
            enabled: true
            forwardKubeDNSToHost: true
    nodeLabels:
        node.kubernetes.io/exclude-from-external-load-balancers: ""
cluster:
    id: wftSq5Tjy3WBf_70wMga1MZdyhKxQIaByRsn2o1UvZg=
    secret: gEXOb1tbCrQfgCw4Y535YnbA2yroFZnjeLm198F/8T0=
    controlPlane:
        endpoint: https://192.168.99.100:6443
    clusterName: talos-cluster
    network:
        dnsDomain: cluster.local
        podSubnets:
            - 10.244.0.0/16
        serviceSubnets:
            - 10.96.0.0/12
    token: 47japu.yldwf16dfoeb4m3h
    secretboxEncryptionSecret: DqtozANj/yCSInqzbX5NCXFoqJWJYEO1iRX9ru6Zheo=
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpVENDQVRDZ0F3SUJBZ0lSQUphdWgxZldhTTJWTUtydnBDTS9icEF3Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOVEV4TVRNeE9UTXhNakZhRncwek5URXhNVEV4T1RNeApNakZhTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVJRR3J1a0VQWUZnK0lHbzJNblpNcFBEcU15QndLQWs5V3dMSHBoZm81Lyt0aFozem5ldmMzSTdaT0QKWklkSHZMTThobVRONWU5TVNycFF2QytDc3lCYm8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGRWR0bzNtVDBSZWh0VkxQNUZROUtiSGcrQTAxTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUhpdkxsSU0KT05sMXdndStYR3JXeU1pbW5UYURFd2R4UlNkaldZS3FJUmdnQWlBT3psTEpVSTJvU00wRUNISGxzd09yMkRhaAp4ZGxZSFVqUHE3Y0w0a3BSY2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUdtNzVnWno1RmJaRjVaRkgwRWpBS1hRbTdEdHNUb0V0ajhiTHVrZ3NoSWNvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFVUJxN3BCRDJCWVBpQnFOakoyVEtUdzZqTWdjQ2dKUFZzQ3g2WVg2T2YvcllXZDg1M3IzTgp5TzJUZzJTSFI3eXpQSVpremVYdlRFcTZVTHd2Z3JNZ1d3PT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    aggregatorCA:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJYekNDQVFhZ0F3SUJBZ0lSQU1hdVZJMkt3aCtQSCt2NGkxNVVrTGN3Q2dZSUtvWkl6ajBFQXdJd0FEQWUKRncweU5URXhNVE14T1RNeE1qRmFGdzB6TlRFeE1URXhPVE14TWpGYU1BQXdXVEFUQmdjcWhrak9QUUlCQmdncQpoa2pPUFFNQkJ3TkNBQVNEb3pVZHZJZUkrNExqQVNEWERrK2hOTDRjVHpRbjAvVkFkZ1pzOUhhSjE3V2JBeVM3CnVYQ3A3UER6Y0lkME1yemk2TGd1NlhJcXJSR3loYWhITWR2RW8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXcKSFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4dwpIUVlEVlIwT0JCWUVGQnFKRWdIS251Yi9DSmp3ZFVqZEhpN0xFaWdvTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDCklBWnRHYXl2a2FVRXZna3o2OEdnS0c1OVcxUnppTzhWYmdubVBxRC9LNTUrQWlCd2g0VnNFclhEOVhhZ2xyOHAKbWxUREQ5TUdRLzBtRnRtNTFSUjU1dkJGTnc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUo5WVJNbGphOGFadHJsbXk4WWhYODZOMnE5aDY2NS9tcDZpNDZrUU1leTJvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFZzZNMUhieUhpUHVDNHdFZzF3NVBvVFMrSEU4MEo5UDFRSFlHYlBSMmlkZTFtd01rdTdsdwpxZXp3ODNDSGRESzg0dWk0THVseUtxMFJzb1dvUnpIYnhBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    serviceAccount:
        key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBelFQV3VJS0I2WmkrK0daVmY1TUVUZDJFMGhkeU0wMlU0Tm02aEE3MEtIei8xVFpvClI3RGxiVGlqT1dSaGI1dEdQRU50QjR0QzlVV0NyTVVuVjBwYko0NmpPUjV1cW5oMXhRaHJDclUyTzRiKzZOdDIKQVJNME5oQ2VySC9FaEI4V3JCQzhIM3F6bkpRZ0VUOUlRWUo3Y2hLWDg2dnRVU1BiQ1c4OWZhUCs3L0lmM0J0NApnckNZdDF5VUY0dHg3SHE3UVhYTlB2bTR6RXhZVjUxb2x1aC92Y0hyeUZvOG1xTitKRnUveVZvY21xQkR4TFdRClB4YmpSbzZxZW03cHBnZ1hFUWU2MkdxSENHR05iLzNoTGg0ZjE0UjNJQkpaTXNVL0FMd3J2aG5ua0RlYm1UT0MKaDRtaVJxbXRBNTFFZkRhTE1UdStVbzF0QXNqdjk1aEFXeVVSbXRPSXdGWFZnNnVPVWVISCtEOXlaU3pLV0dKbAp4VjBOcHN3ZEZxWGdFREcwTDhWTHBRRGxHN1g5eUcvLzVydWR1YU10aC9ORXc2MkhXKzZNUDF0eUVnbWE3WitRCm9TU20yRHhYNTFjL2h6MllwVUdKK0Y0OWs2eHJpSWd4bGhaQ1JINThZRVMzcHZFSi9sZGVuMjd3VStKT0YyWXoKdm1EbzJIemQ0SU9RVC91d3hoWGpLbGRtd3dOYWhDOGd2enRNV3FHc3hyeEI3Mk5yVzdrM1dEcFRLblE5TmdhNgp1T2ZkcUM5MnhJSnlERFBGQXY5MEJYV3ZFYVZaWDB5V3pRVlhiV3BPT2FtaWFINW5WOW5RYXZ1ZnJjWmhZd3AxCkpsYUt1dnRCalpsOFlSOWxCZ3hoRkUvaXhMZXNKRFlTRTJCU01ia2N4azZtaTNkVGFBdFJWa0pidmNjQ0F3RUEKQVFLQ0FnQVRDeXZvaXc3cTY2cGU3by9sNnMvTk5Tb3FUYzArTmhNQjZVSlVhVmlGWTU4V3ZNSzdyaE04V0Y5KwpiRW1mWnJWWkp3dVFxMzlMd3orR2h2QnhsbEdZcWhKQUNGMzZtSGZ3Rm41dG56UkF4cU1WR1pXcmpJOTBCTi9kCnR0SHRVcFNnNVJPNXo0UmNUaEliS0FnR2l4Lzd2UDIvdjcrcW90Y0NMYTF3NTBrK0cvMURvb3J6aGkzdXZSQncKamg1d3BnYzdrYjFxcW5oZnJ5a2huUU00ZEFrRyttVjBLMEJTazZTYkFmN0lXRnVCMkNpVFh0T0lXTHJzaWV5MwpYMmdnRThPamJGYTUxYU5pR1pXeGRTRnorWTVocEVkZ2c1NTZMZGVvQjMxVXRPNmlvZGUzOG1YMGxjb0NJRmxzClFERTZ0emVxR2hwQ3dYK3RHNHlCaGtpc0dXbTZEOHlBSGJaY3hNQzloNzhtOHI2bG1GdW0wU3VlVE45L0lDMlUKWmxuV0pNaEFDWCtHa1RIWjJRSlB4WXpNbVFpbEt2ZS9nM1BIMGpDT2hCQlB5MFIzM2RaME41Qlp2RTlVVG9lNgppWXRXRUlMQkZKSHFTUnRadzYzbEhOU1JBcG5rSS91cHJNNkFLZjRjS1ZJSFVQV3ovM0FpT0JZWS9WNCtYQ1ExCjlWYUJZN0t5TXlvUlMrbnNHSk1mSzNRR1NNOFFDNjc0NXZRdlBBWDYrOVZxTWNDNW0xTHNuQlNWSms0RUJmaHkKZzU0R0c1SDZ4T1lHUTQrNHlWc21abmQyZGNpdGxIYTdiSjlCSlZLU0NHZXM1OVNpVC9rWitUaWZ2MVJVOEJXUQp3dFlINUdLeC95UFd2M2RibFBnSHhiU1l1MDVsVlZKeWpCdXB3NTdSKzdFa0hudTJJUUtDQVFFQTRMSlZtYmk5CjhEaVVoanN2SlZSUlZKSHN6UlpxcEZOZXkyZStsaGZaOWJRa08rTW1Cdmg5aXcrZ0hpaVZydW5IclpzSEI3RG0KZkJlNE0vbnExK0JxT1A0R3lsQ1Bzc2kvd1Z0NnJmdFFPRHJWTTh6d2FPK2kzL0plL09WT2xjbWkyL0RiUmFaQQpDRmtWRUV3d3psenRmaElBUWFhZ0NTZFVocTRaZFZXV09NQ0NxMlNNVnllTDBkTTNqTEZ4SnhFN2g0anZBRnExCkhHTDZmb0UwYXZhWEQrQWxMWTYrOTlkcEMxeThQeXlpM3pZQ3l5cFhLOEZUeXZqTHdlVWMrUklHbXRQTHA0bHAKcDByL2hQNEd0Y0t0Um00cmQrUGw1b3VlNEFYeGhzWHJUVHJxWGZqS1FUcEZqMTNIZTVPaHpYMVJjbHp5bGZyVgpHS2VDN2ovMDRNQjc4UUtDQVFFQTZaT1NUQWwrQTR1VktjbVhodHFEYUxPVmVZbUZWNGFEMTc5MFM2NjhSVmpsCklDZmpFb1Z5cWQyRGw4Y3BqanBEK2pjd0hZMGpZU25iOS9ZS3ZuV0g3U3E2UWNOaWVzN1ZNRkJVY1EvY3dWajYKMldYSFhYU0NDQ2prc0NuS0JtSTZlTm41cjRNRHJFZE1MaTdmN2pRUnY1dlVhU0FJSmMxVVh0RU94Z3hhZlpjKwpPSzN5MldHbjdic3NyYjBaUVNETmk2TmoremRiZGtNckpOc0lWQzRVTWl4Q2pjckZHTUNHTmJyVmF6MTlPVngwCktWSWo5K1k5M3V2cmJ0eDhaYjBKOTVqUy9SNzJid0JXV3gwcFdiZWdJZkluYk1lRHNlckY5MFZpNUtrSGFwUkMKaTJLQk95R0krRXg3RXNLVDhzWit6NmNRVXNUeStCd0pkQU0rcVhQdE53S0NBUUI2NjVSQWYvd0lTaXVXTXhKYgpqWURnanVQSVhoY0F4a3I1WTB1enVHQ1lOWEFOQXZwdW5jbXdKV0FtbjNVak51anhZL200ajJISFNRS1FESXdZCmhNQVhaWUE1ZFZEbk1VTVZlQUhvNDY3QzFBeUdSZnJPclNtZzhXcGRWdVJpdE9mUEFqZ3lKZnlwbEhJZGRGRE8KMDY5b1pGaVhrWnZDNWkwcmNGcWxBYWtvYXNnUkV2UmpTVk1IK2xCTk8xVDNWa29HbnphQUx4OGM1Rmk4azlvbApHYmtTQ2tETVoyYTVGckowY01yYWxJU1ZMMnJmMGMzV05mQ3MvT1lhc0VmbFNhTXJWK24xUVFyM1plUGEwVXpDCmFqbDRhaFNGaGJyaklFWk5yM0t0aytCaFkzV0s2dXRhTzVLS0YzZGxkeUh3MURtV0lwcml5VkdDSjBGTkxOZTkKakE5QkFvSUJBUURsUFRBWDhEajh3Y0ZqZ2JaMVk0QVZBaXR4WE1iQllBT0ZleUZvSmRZaE9WMm1jWDhxYms1YQo2RXgrYWJrZkhaQVp3cEEyY0k2SWpjeVZUNlM3eUIzZlprL211eHVyNjlMUDJBY0g3OGw0K1JzNHdlc29qWEFSCkVoRmYwNk96SURUQzV5dG1WZThFNWZTZVh1TG5wYkxGbXVxZFFoSzlCd2dIQnFhNU9PYVczQmoxQjhPUUZZZjYKaWZrUGlzZCtZL05YV01TSGlZejZSSEhUZWlSeWVjYllkeGZha1dkZkk1U1Vwd2xPZHNxdndVMUFRSjJNYnl2SgozVUR6VFBISjUvNGdRcHpRVDlNTW5nZ2k1RHZ4RVliWHloRm5jV2lPOVJ2VjB3Tjc1MmlmOFdKZDZnOXJPVDUwCmNwdFhqaUFsNVNvUUlxYWlsU2pnMktOdWVNREhEaitCQW9JQkFEaEhML3Y0cnVXc2s1UVVmbmdUNGtpY2s3RjAKdUJocHhSci9jMElkeVNVdFNhd0Z3SklJR2hQcitvNjlaakxxa3k1MVZtc2xmQjNkZ2pjblVaUlRjdzJNNTVQVgo2S1V5VVR3cmlOVFF1b3Z4NDVNVjU0WGUzNHlYcU1mTElSZndUOUZCendzYm1pcUxJNHZocFQ5anBRNTUvNlh3CjlUdUNqYktxTEVWd08vcGhiNmZiN2ZYVEVqc2VuTjZTTUhIWGE1b1ByT2NoRno3ZExNeWhFa290cEhpRlpwdWcKaEs3bjQ5QlFpMDgxdFl3RDlnZzUzRVRGdUJTa0lhdGtCYzYzTTFJYTFWN2dvMTA1Nld1VFBKUEdtaWtWZUsrNQpjU3R1YlpnYXZVQzNzYmVnWkVMME4wR2JmVXJMaGhia0xJWlk0S1htdExiZUMrbE9NREVGa3QyV2piMD0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
    apiServer:
        image: registry.k8s.io/kube-apiserver:v1.34.1
        certSANs:
            - 192.168.99.101
        disablePodSecurityPolicy: true
        admissionControl:
            - name: PodSecurity
              configuration:
                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
                defaults:
                    audit: restricted
                    audit-version: latest
                    enforce: baseline
                    enforce-version: latest
                    warn: restricted
                    warn-version: latest
                exemptions:
                    namespaces:
                        - kube-system
                    runtimeClasses: []
                    usernames: []
                kind: PodSecurityConfiguration
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    controllerManager:
        image: registry.k8s.io/kube-controller-manager:v1.34.1
    proxy:
        image: registry.k8s.io/kube-proxy:v1.34.1
    scheduler:
        image: registry.k8s.io/kube-scheduler:v1.34.1
    discovery:
        enabled: true
        registries:
            kubernetes:
                disabled: true
            service: {}
    etcd:
        ca:
            crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmakNDQVNTZ0F3SUJBZ0lSQUtrWWxpeUVnbi9leWt5aHVHNDV0NFF3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TlRFeE1UTXhPVE14TWpGYUZ3MHpOVEV4TVRFeE9UTXhNakZhTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSK29MUGx5VHRuClJFYU1JV3hxSW5YdVhyOUUzUFlNT1NSRDZnUzdKaUFoM0ZZaUdyazh6V2tXMG5PSUJzWDY3Z2hFSVY1eDFSQTMKekFXZ0FYU2owUElCbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRk9VTjVmb3Rad2trCkhJY1NmT05BRnR0UDI5MElNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJR0M0bzQ2OHVUM1V3YmFJL2RpSUYwUnIKUXBWSEJJU1VXY3hFQTNJVzAvV1hBaUVBdVBXQUx4LzE3V1AzR0tmL01DWktrWG1ocWFPKzJjNU5oOWFwaDFRTApFa3M9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
            key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUhzdjlobkY4TFFRTnA4MVAxbE1jVlBOcnVkYnFweSt5SHViS2swQTZwSG9vQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFZnFDejVjazdaMFJHakNGc2FpSjE3bDYvUk56MkREa2tRK29FdXlZZ0lkeFdJaHE1UE0xcApGdEp6aUFiRit1NElSQ0ZlY2RVUU44d0ZvQUYwbzlEeUFRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    allowSchedulingOnControlPlanes: true
